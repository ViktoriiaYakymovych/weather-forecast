{"version":3,"file":"static/js/11.8ed1a259.chunk.js","mappings":"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","sources":["api.js","components/CitiesList/CitiesList.styled.js","components/CitiesList/CitiesList.jsx","components/SearchCityForm/SearchCityForm.jsx","pages/Home/Home.jsx","pages/Home/Home.styled.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL =\r\n  \"https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services\";\r\nconst API_KEY = \"E4W5RGXKFH3UTAD62NKRRA3L3\";\r\n\r\nconst fetchWeatherForCities = async (\r\n  controller,\r\n  cities = \"London%2CUK%7CParis%2CFrance%7CTokyo%2CJapan\"\r\n) => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/timelinemulti?key=${API_KEY}&locations=${cities}`,\r\n      { signal: controller.signal }\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    if (error.code !== \"ERR_CANCELED\") {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n};\r\n\r\nconst fetchCityWeatherForToday = async (controller, city = \"Berlin\") => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/timeline/${city}/today?unitGroup=metric&include=days\r\n&key=${API_KEY}&contentType=json`,\r\n      { signal: controller.signal }\r\n    );\r\n    console.log(data);\r\n    return data;\r\n  } catch (error) {\r\n    if (error.code !== \"ERR_CANCELED\") {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n};\r\n\r\nconst fetchCityWeatherForDays = async (controller, city = \"Berlin\") => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/timeline/${city}/next7days?unitGroup=metric&include=days&key=${API_KEY}&contentType=json`,\r\n      { signal: controller.signal }\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    if (error.code !== \"ERR_CANCELED\") {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n};\r\n\r\nconst api = {\r\n  fetchWeatherForCities,\r\n  fetchCityWeatherForDays,\r\n  fetchCityWeatherForToday,\r\n};\r\n\r\nexport default api;\r\n\r\n/* request FROM DATE TO DATE for the city:\r\nhttps://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/[city]/[date1]/[date2]?unitGroup=metric&amp;include=days&amp;key=YOUR_API_KEY&amp;contentType=json\r\n\r\nfor example:\r\nhttps://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/London,UK/2020-10-01/2020-12-31?key=YOUR_API_KEY \r\n*/\r\n\r\n/*\r\nrequest for today's weather in the city:\r\nhttps://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/[city]/today?unitGroup=metric&amp;include=days\r\n&amp;key=YOUR_API_KEY&amp;contentType=json\r\n\r\n\r\n*/\r\n","import { NavLink } from \"react-router-dom\";\r\nimport { styled } from \"styled-components\";\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 16px;\r\n`;\r\n\r\nexport const Item = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  gap: 4px;\r\n  padding: 8px;\r\n  width: 240px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 12px;\r\n  background: #002244;\r\n  color: #eef2f7;\r\n`;\r\n\r\nexport const Link = styled(NavLink)`\r\n  padding: 4px 16px;\r\n  border: 1px solid #eef2f7;\r\n  border-radius: 12px;\r\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\r\n    color 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  &:hover {\r\n    background-color: #eef2f7;\r\n    color: #002244;\r\n  }\r\n`;\r\n","import { Item, List, Link } from \"./CitiesList.styled\";\r\n\r\nconst CitiesList = ({ weatherList }) => {\r\n  return (\r\n    <List>\r\n      {weatherList.map((city) => {\r\n        const tempMax = Math.round((city.days[0].tempmax - 32) / 1.8);\r\n        const tempMin = Math.round((city.days[0].tempmin - 32) / 1.8);\r\n        return (\r\n          <Item key={city.address}>\r\n            <h3>{city.address}</h3>\r\n            <img\r\n              src={`https://raw.githubusercontent.com/visualcrossing/WeatherIcons/main/PNG/1st%20Set%20-%20Color/${city.days[0].icon}.png`}\r\n              alt={city.days[0].icon}\r\n            />\r\n            <p>{city.days[0].conditions}</p>\r\n            <p>\r\n              {tempMin}&deg;C - {tempMax}&deg;C\r\n            </p>\r\n            <Link to={`/:${city.address}`}>See detailed forecast</Link>\r\n          </Item>\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default CitiesList;\r\n","import { BsSearch } from \"react-icons/bs\";\r\n\r\nconst SearchCityForm = ({ onSubmit }) => {\r\n  return (\r\n    <form onSubmit={(e) => onSubmit(e)}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"city\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Write searching city...\"\r\n      />\r\n      <button type=\"submit\">\r\n        <BsSearch />\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchCityForm;\r\n","import { useState, useEffect } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport api from \"../../api\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport CitiesList from \"../../components/CitiesList/CitiesList\";\r\nimport SearchCityForm from \"../../components/SearchCityForm/SearchCityForm\";\r\nimport { HomeSection } from \"./Home.styled\";\r\n// import { useSearchParams } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [weatherList, setweatherList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // const [searchParams, setSearchParams] = useSearchParams();\r\n  // const value = searchParams.get(\"city\") ?? \"\";\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const fetchWeatherList = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const { locations } = await api.fetchWeatherForCities(controller);\r\n        setweatherList([...locations]);\r\n      } catch (error) {\r\n        if (error.code !== \"ERR_CANCELED\") {\r\n          setError(error.message);\r\n        }\r\n        setError(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchWeatherList();\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, []);\r\n\r\n    // useEffect(() => {\r\n    //   if (value === ''){\r\n    //     return\r\n    //   }\r\n\r\n    //   const controller = new AbortController();\r\n\r\n    //   const fetchWeatherList = async () => {\r\n    //     try {\r\n    //       setLoading(true);\r\n    //       const resp = await api.fetchCityWeatherForToday(controller, value);\r\n    //       console.log(resp);\r\n    //       setweatherList([...resp])\r\n    //     } catch (error) {\r\n    //       if (error.code !== \"ERR_CANCELED\") {\r\n    //         setError(error.message);\r\n    //       }\r\n    //       setError(null);\r\n    //     } finally {\r\n    //       setLoading(false);\r\n    //     }\r\n    //   };\r\n    //   fetchWeatherList();\r\n    //   return () => {\r\n    //     controller.abort();\r\n    //   };\r\n    // }, [value]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newCity = e.target.elements.city.value.trim();\r\n    if (newCity === \"\") {\r\n      return toast.error(\r\n        `Sorry, we can't submit empty request. Please, write what You want to search.`\r\n      );\r\n    }\r\n    // setSearchParams({ city: newCity });\r\n    // setweatherList([]);\r\n    e.target.reset();\r\n  };\r\n\r\n  return (\r\n    <HomeSection>\r\n      <h2>Weather forecast in different cities</h2>\r\n      <SearchCityForm onSubmit={onSubmit} />\r\n      {weatherList && <CitiesList weatherList={weatherList} />}\r\n      {loading && <Loader loading={loading} />}\r\n      {error && <p>Sorry, something went wrong. Please, try to update page.</p>}\r\n    </HomeSection>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { styled } from \"styled-components\";\r\n\r\n\r\nexport const HomeSection = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  text-align: center;\r\n  gap: 16px;\r\n\r\n  & > h2 {\r\n    color: #002244;\r\n  }\r\n`;"],"names":["axios","defaults","baseURL","API_KEY","fetchWeatherForCities","async","controller","cities","arguments","length","undefined","data","get","concat","signal","error","code","console","log","message","fetchCityWeatherForDays","city","fetchCityWeatherForToday","List","styled","ul","_templateObject","_taggedTemplateLiteral","Item","li","_templateObject2","Link","NavLink","_templateObject3","_ref","weatherList","_jsx","children","map","tempMax","Math","round","days","tempmax","tempMin","tempmin","_jsxs","address","src","icon","alt","conditions","to","onSubmit","e","type","name","autoComplete","autoFocus","placeholder","BsSearch","Home","setweatherList","useState","loading","setLoading","setError","useEffect","AbortController","locations","api","fetchWeatherList","abort","HomeSection","SearchCityForm","preventDefault","target","elements","value","trim","toast","reset","CitiesList","Loader","section"],"sourceRoot":""}